<template>
    <lightning-card >
        <lightning-tabset variant="scoped" active-tab-value="documents" onactive={handleTabChange}>

            <!-- Documents Tab -->
            <lightning-tab label="Documents" value="documents">
                <template if:true={documentFiles.length}>
                    <lightning-tabset variant="scoped">
                    <template for:each={documentFiles} for:item="file">
                        <lightning-tab key={file.id} label={file.title}>
                        <div key={file.id} >
                            <iframe src={file.contentUrl} 
                                    width="100%"
                                    height="600px"
                                    style="border: none;"
                                    title={file.title} 
                                    class="document-preview">
                            </iframe>
                        </div>
                    </lightning-tab>
                    </template>
                </lightning-tabset>
                </template>
                <template if:true={noDocumentFiles}>
                    <p>No documents found.</p>
                </template>
            </lightning-tab>
            <!-- Images Tab -->
            <lightning-tab label="Images" value="images">
                <template if:true={imageFiles.length}>
                    <lightning-tabset variant="scoped">
                    <template for:each={imageFiles} for:item="file">
                        <lightning-tab key={file.id} label={file.title}>
                        <div key={file.id} class="slds-m-around_xx-small">
                            <img src={file.contentUrl} alt={file.title} class="image-preview" />
                        </div>
                    </lightning-tab>
                    </template>
                </lightning-tabset>
                </template>
                <template if:true={noImageFiles}>
                    <p>No images found.</p>
                </template>
            </lightning-tab>

            
        </lightning-tabset>
    </lightning-card>
</template>